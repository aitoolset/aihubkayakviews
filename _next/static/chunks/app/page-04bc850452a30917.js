(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5830:(e,s,t)=>{Promise.resolve().then(t.bind(t,7261))},7261:(e,s,t)=>{"use strict";t.d(s,{default:()=>i});var a=t(5155),r=t(2115);function l(e){let{review:s}=e,t="https://www.youtube.com/results?search_query=".concat(encodeURIComponent(s.title+" kayak review after:2023-01-01 before:2025-01-01"));return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 h-full",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:s.title}),(0,a.jsx)("p",{className:"text-gray-600 mt-2 text-sm",children:s.summary}),(0,a.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm mt-2 inline-block hover:underline",children:"View vids of kayak reviews"})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:["$",s.specs.price]}),(0,a.jsx)("div",{className:"text-gray-500 text-sm",children:s.specs.type})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[(0,a.jsxs)("div",{className:"text-center p-2 bg-gray-50 rounded",children:[(0,a.jsx)("div",{className:"text-gray-500 text-sm",children:"Length"}),(0,a.jsxs)("div",{className:"text-base font-semibold",children:[s.specs.length,"ft"]})]}),(0,a.jsxs)("div",{className:"text-center p-2 bg-gray-50 rounded",children:[(0,a.jsx)("div",{className:"text-gray-500 text-sm",children:"Width"}),(0,a.jsxs)("div",{className:"text-base font-semibold",children:[s.specs.width,'"']})]}),(0,a.jsxs)("div",{className:"text-center p-2 bg-gray-50 rounded",children:[(0,a.jsx)("div",{className:"text-gray-500 text-sm",children:"Weight"}),(0,a.jsxs)("div",{className:"text-base font-semibold",children:[s.specs.weight,"lbs"]})]}),(0,a.jsxs)("div",{className:"text-center p-2 bg-gray-50 rounded",children:[(0,a.jsx)("div",{className:"text-gray-500 text-sm",children:"Capacity"}),(0,a.jsxs)("div",{className:"text-base font-semibold",children:[s.specs.capacity,"lbs"]})]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("div",{className:"text-gray-500 text-sm mb-2",children:"Accessories:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:s.specs.accessories.map((e,s)=>(0,a.jsx)("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:e},s))})]})]})}function i(){let[e,s]=(0,r.useState)([]),[t,i]=(0,r.useState)(!0),[n,c]=(0,r.useState)(null),[d,o]=(0,r.useState)(""),[p,m]=(0,r.useState)(!0);async function x(){try{var e,t,a,r,l;m(!0);let i=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=".concat("AIzaSyAF1Sk8VNQvQ5oYV7z09C2kXYPWyCOHoLw"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:'Generate a JSON array of 5 popular single-seat kayaks. Format as:\n            [\n              {\n                "id": 1,\n                "title": "Kayak Name",\n                "specs": {\n                  "length": 10,\n                  "width": 30,\n                  "weight": 50,\n                  "capacity": 300,\n                  "material": "polyethylene",\n                  "type": "sit-in",\n                  "price": 499,\n                  "accessories": ["paddle", "seat"],\n                  "seats": 1\n                },\n                "summary": "Brief description of the kayak."\n              }\n            ]\n            Keep descriptions under 100 characters. Return ONLY valid JSON. If the results aren\'t in Json, convert all the result to JSON.'}]}],generationConfig:{temperature:.3,maxOutputTokens:800}})});if(!i.ok){m(!1);let e=await i.text();throw console.error("API Error Response:",e),o(e),Error("Failed to fetch kayak data: ".concat(i.status,"\n").concat(e))}let n=await i.json();if(console.log("API Response:",n),null==n?void 0:null===(l=n.candidates)||void 0===l?void 0:null===(r=l[0])||void 0===r?void 0:null===(a=r.content)||void 0===a?void 0:null===(t=a.parts)||void 0===t?void 0:null===(e=t[0])||void 0===e?void 0:e.text){let e=n.candidates[0].content.parts[0].text;e=e.replace(/```json\n?|\n?```/g,"").trim();try{e=e.replace(/[\n\r\t\s]+/g," ").replace(/",\s+and\s+/g,". ").replace(/("title":\s*"[^"]+)(?=,)/g,'$1"').replace(/("summary":\s*"[^"]+?)(?=",\s*")/g,'$1"').replace(/"type":\s*"([^"]+)(?=,|\})/g,'"type": "$1"').replace(/"price":\s*(\d+),(\d+)"/g,'"price": $1$2').replace(/"(length|width|weight|capacity)":\s*"(\d+(?:\.\d+)?)\s*(?:ft|"|lbs?)?"/g,'"$1": $2').replace(/"seats":\s*"(\d+)"/g,'"seats": $1').replace(/,(\s*[\]}])/g,"$1").replace(/}(?!\s*[,\]}])/g,"},").replace(/](?!\s*[,\]}])/g,"],").replace(/^"/,"").replace(/"$/,"").replace(/^(.+),\s*$/,"$1"),console.log("Cleaned content:",e);let t=JSON.parse(e);if(console.log("Parsed Kayak Data:",t),Array.isArray(t)){let e=t.filter(e=>e&&e.id&&e.title&&e.specs&&e.summary).map(e=>({...e,specs:{...e.specs,length:Number(e.specs.length||0),width:Number(e.specs.width||0),weight:Number(e.specs.weight||0),capacity:Number(e.specs.capacity||0),price:"string"==typeof e.specs.price?Number(e.specs.price.replace(/[^0-9.-]+/g,"")):Number(e.specs.price||0),accessories:Array.isArray(e.specs.accessories)?e.specs.accessories:[],seats:Number(e.specs.seats||1)}}));if(e.length>0)s(e),o(JSON.stringify(e,null,2));else throw Error("No valid kayak entries found")}else throw Error("Response is not an array")}catch(s){throw console.error("JSON Parse Error:",s),console.error("Content being parsed:",e),Error("Failed to parse kayak data")}}else throw Error("Invalid API response structure")}catch(t){console.error("Fetch error:",t),m(!1);let e="Failed to fetch kayak data",s="Please check your API key and try again";t instanceof Error&&(e=t.message,t.message.includes("401")&&(s="Invalid or missing API key. Please check your environment variables.")),c({message:e,details:s,status:null})}finally{i(!1)}}return((0,r.useEffect)(()=>{x()},[]),t)?(0,a.jsx)("div",{className:"flex justify-center items-center min-h-[400px]",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):n?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsxs)("div",{className:"text-red-500 mb-2",children:["Error: ",n.message]}),n.details&&(0,a.jsx)("div",{className:"text-gray-600 text-sm mb-4",children:n.details}),(0,a.jsx)("div",{className:"mx-auto max-w-2xl mt-4",children:(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 text-left",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:"Error Response"}),(0,a.jsxs)("span",{className:"text-red-500 text-sm",children:["Status: ",n.status||"Unknown"]})]}),(0,a.jsx)("pre",{className:"bg-gray-900 p-4 rounded overflow-auto text-sm whitespace-pre-wrap text-red-400",children:d||"No response data available"})]})}),(0,a.jsx)("button",{onClick:x,className:"mt-6 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Try Again"})]}):p?(0,a.jsx)("div",{className:"max-w-6xl mx-auto p-4",children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,a.jsx)("div",{children:(0,a.jsx)(l,{review:e})},e.id))})}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"text-red-500",children:"No results found"}),(0,a.jsx)("button",{onClick:x,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Try Again"})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[441,517,358],()=>s(5830)),_N_E=e.O()}]);